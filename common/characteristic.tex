 Круг задач, решаемых на высокопризводительных вычислительных системах, очень обширен. Он включает в себя множество исследовательских, оборонных и промышленных задач, в частности моделирование астрофизических процессов и физических процессов в плазменных установках, моделирование поведения вещества при сверхвысоких температурах и давлениях, разработка новых материалов, расчеты аэродинамики первспективных самолетов и автомобилей, предсказание погоды и задачи биоинформатики.
 
 Все эти очень различные задачи объединяет одно: они предъявляют очень высокие требования к оборудованию и системному программному обеспечению вычислительной системы (ВС). При этом одни задачи  отличаются повышенными требованиями прежде всего к производительности процессорных ядер ВС, другие к времени доступа к оперативной памяти, пропускной способности и латентности коммуникационной сети, третьи к производительности операций работы с файловой системой. Таким образом, возникает вопрос об оценке производительности ВС, отдельной ее подсистемы, или в комплексе, и об определении степени пригодности данной ВС для решения того или иного типа задач. 
 
 Это означает необходимость создания специализированных программ-тестов для определения быстродействия конкретной ВС. В настоящее время существует большое количество подобных программ: Linpack, HPCG, NAS Parallel benchmarks, SPEC Benchmarks, ECP Exascale Proxy Applications, Mantevo miniapps benchmarks. Кроме того, существуют оценки параллелльной масшабируемости и ээффективности выокопроизводительных ВС, например, в книге \cite{StepanenkoScaling}.
 Все это многообразие показывает что задача создания теста производительности ВС остается актуальной.
 
 
 Желательно, чтобы тесты создавались на базе программ, используемых для решения реальных задач для того, чтобы результатом работы теста были бы не только числовые показатели, но и конкретное подтвержение способности тестируемой ВС решать сложные задачи, актуальные с научной или производственной точки зрения. Так, тест High Performance Lapack создан на основе методов решения системы линейных уравнений с помощью LU-факторизации, тест HPCG - на основе метода сопряженных градиентов, NAS parallel benchmark ориентирован на задачи гидро и газодинамики.
 
 
 
 Кроме тестирования скорости выполнения арифметических операций очень важное значение имеет произвоительность системы ввода-вывода. Это проблема, имеющая самостоятельное научное значение. о чем свидетельствует, в частности, доклад  <<Do you know what your I/O is doing>> (<<Знаете ли вы, что делает ваша система ввода-вывода>>) \cite{IOdoing}. В приложении к конкретным задачам математического моделирования время собственно решения задачи на высокопроизводительной ВС иногда оказывается меньше, чем время записи результатов на жесткие диски.
 Таким образом анализ производительность системы ввода-вывода должен быть включен в тест производительности.
 Одним из немногих тестовых пакетов, решающих эту задачу, является Intel Cluster Checker - набор программ, производящий всестороннее тестирование кластерной системы, и каждой отдельной подсистемы, и вопросы совместного функционирования подсистем. 
 
 Для сокращения временных и ресурсных затрат на проведение тестирования необходимо создавать тесты на базе программ, реализующих такие математические методы, которые предъявляют высокие требования сразу к нескольким, в идеале - ко всем подсистемам тестируемой ВС. 
 
 Одним из таких методов является метод частиц в ячейках.Его достоинством является, с одной стороны, использование в качестве инструментов нескольких существенно различных вычислительных методов, что позволяет исходя из тестированияна методе частиц в ячейках достоверно прогнозировать производительность данной ВС на многих других задачах. С другой стороны, достоинством метода частиук как теста является трудность его эффективной реализации на высокопроизводительных ВС, в частности нерегулярный доступ к памяти, недетерминированный объем и частнота межпроцессорных пересылок и очень больший объем выдач - проблемы с которыми е всегда и не в полном объеме удается справляться на уровне прикладного ПО (программного обеспечения). Фактическая эффективность работы ВС с таким сложным приложением является хорошей характеристикой качества оборудования и системного ПО.
 
 Таким образом,\textbf{ актуальность работы} заключается в необходимости создания именно комплексного теста производительнсти вычислительных систем, охватывающего все аспекты, влияющие на быстродействие: процессорные ядра, графические ускорители, контроллеры памяти, межпроцессорные коммуникационные интерфейсы, контроллеры коммуникационной сети, сетевые коммутаторы, средства доступа к энергонезависимой  подсистеме хранения данных (дисковой подсистеме), позволяющего определить  реальное время вычислений с учетом того, что данные находятся не в регистрах процессора и должны быть туда загружены таким образом выяснить реальное быстродействие системы на широком спектре задач математического моделирования (sustained performance). 


{\aim} данной работы является разработка методики и создание реализующей ее программы для комплекспой оценки производительности ВС с учетом функционирования всех подсистем  и выявления скорости решения реальных задач. Таким образом предполагается представить альтернативу традиционной методике оценки производительности ВВС, основанной только лишь на количестве операций в секунду.  

Для~достижения поставленной цели необходимо было решить следующие {\tasks}:
\begin{enumerate}
	\item Создать методику комплексной оценки производительности ВС в целом, основанную на программе для моделирования методом частиц в ячейках,с использованием крупноблочного распараллеливания на основе MPI.
	\item Разработать и протестировать формулы, обеспечивающие возможность экстраполяции результатов тестирования ускорения и эффективности распараллеливания по части узлов ВС на ВС в целом
	\item Создать методику проведения комплексного анализа производительности узлов мультиархитектурной ВС, оснащенной многоядерными процессорами и ускорителями вычислений на основе метода частиц в ячейках, с использованием мелкозернистого распараллеливания на основе CUDA и OpenMP.
	\item Разработать методику обобщения данных, полученных в ходе тестирования на основе метода частиц в ячейках для эффективной эксплутации тестируемой ВС для широкого круга научных и народнохозяйственных задач, а также для для улучшения быстродействия данной ВС. 
\end{enumerate}


{\novelty}
Постановка задачи о проведении тестирования высокопроизводительной ВС на основе метода частиц в ячейках является новой. Впервые создана возможность определения всех факторов, влияющих на производительность ВС на основе одного комплдексного теста. 

Существенная научная новизна определяется тем, что метод частиц в ячейках является ресурсоемким методом, предъявляющим высокие требования к быстродействию не только процессора , но и оперативной памяти, и системы хранения данных. Эти свойства метода частиц приводят к необходимости разработки и применения большого количества сложных методов программной оптимизации, позволяющих достигать приемлемой производительности на реально доступных системах. В то же время высокая требовательность метода частиц к быстродействию ВС позволяет эффективно ценить быстродействие тестируемой ВС с той точки зрения, что если какая-либо из подсистем не оптимизирована и функционирует с низкой производительностью, то итоговая скорость счета по методу частиц будет очень мала. Далее известное разбиение метода частиц в ячейках на этапы различной сложности позволяет определить какая из подситем тестируемой ВС вносит наибольший вклад в снижение производительности. 

Таким образом впервые появляется возможность точной диагностики ВС по результатам работы реализации вычислительного метода, используемой для получения актуальных физических резульатов.   

Преимущества по сравннению с другими вариантами тестирования заключаются в
\begin{itemize}
	\item выявлении производительность ВС на реальном приложении, а не на специально сконструированном тесте - это важно с точки зрения динамики нагрузки на ВС (\textit{объем пересылаемых частиц, например})
	
	\item оценке интегральной производительности ВС, сскладывающейся из производительности процессора, ускорителей вычислений, кэш-памяти разных уровней, оперативной памяти и системы хранения данных
	\item возможности выявления в ходе одного теста конкретной подсистемы ВС, наиболее заметно снижающих скорость счета реальных приложений. 
	
\end{itemize}
Создана оригинальная методика, основанная на анализе статистики сообщений, позволяющая на основе проведения теста на части узлов высокопроизводительной ВС кластерного типа проводить экстраполяцию и оценивать эффективность распараллеливания и масштабируемость для ВС в целом.

Впервые проводится анализ производительности узлов мультиаврхитектурнной ВС, оснащенных графическими ускорителями, ускорителями Intel Xeon Phi, различными типами многоядерных процесоров с точки зрения выявления их производительности, реально достижимой при решения конкретных научно-технических задач.

На основе разделения метода частиц в ячейках на этапы различной сложности, предъявляющих высокие требования к определенным подсистемам тестируемой ВС создана новая оригинальная методика, позволяющая предсказывать производительность при решении раличных научных и народнохозяйственных задач, в частности задач гидро- и газодинамики, методов Монте-Карло, алгоритмов динамической балансировки загрузки, алгоритмов, основанных на интегральных преобразованиях, задач анализа генетической информации, параллельную эффективность и масштабируемость приложений, использующих парные и коллективные коммуникационные операции. Также разработанный тест может использоваться для получения рекомендации по настройке системы параллельных коммуникаций, например, задания оптимальных значений таймаутов MPI.


{\influence} Накопленный опыт экспуатации программы, реализующей метод частиц в ячейках на различных типах ВС позволяет разработать конструкцию специализированной вычислительной системы для расчетов по данному методу, а также выработать принципы для адаптации наиболее распространенных типов и модификаций ВС для эффективной работы с методом частиц в ячейках и для математического моделирования в целом.

Созданный в рамках диссертационной работы комплексный тест позволяет проводить экспериментальное исследование функционирования вычислительных машин, комплексов и компьютерных сетей в широком диапазоне от больших высокопроизводительных ВС и метакомпьютеров, образованных соединением нескольких кластеров до ноутбуков. Это исследование дополняется проводимым в той же тестовой программе теоретическим анализом масштабируемости и параллельной эффективности. В ходе тестирования измеряются характеристики ВС - вычислительнная производительность, скорость работы коммуникационной сети и системы ввода-вывода. Измеренные характеристики позволяют улучшить работы сетевой подситемы ВС путем перепрограммирования сетевых адаптеров и изменения настроек системного ПО, а также дать рекомендации по улучшению технико-экономических и эксплуатационных характеристик ВС такого типа в дальнейшем.

%	Важнейшей частью предложенного теста, недоступной в большинстве других тестов для высокопроизводительных ВС, является диагностика системы ввода-вывода. Вывод информации (физические диагностики при моделировании плазмы) характеризуется в данном случае большим объемом (трехмерные массивы полей и токов во всей расчетной области), неравномерностью распределения по вычислительным узлам (массивы модельных частиц), значительной временной динамикой (6-мерный массив функции распределения частиц). Все описанное в комплексе создает очень серьезную нагрузку для сети и распределенной файловой системы ВС и дает возможность провести их доработку и оптимизацию.  

Существует также возможность использования результатов тестирования для разработки методов и алгоритмов организации параллельной и распределенной обработки информации, многомашинных и специальных вычислительных систем. Реализация
метода частиц в ячейках в представленной программе включает в себя также и возможность счета на графических ускорителях, и ускорители Intel Xeon Phi. Таким образом проведенные тесты покажут эффективность вычислений с использованием специализированных вычислителей в рамках анализируемой ВС, а также эффективность работы интерфеса, соединяющего графические и другие ускорители с основной частью ВС.

В силу того, что скорость расчета по методу частиц в целом и эффективность распараллеливания в частности приципиально зависит от топологии внутренней сети высокопроизводительной ВС, а также от параметров коммуникационного оборудования и системного ПО, то результаты тестирования могут быть использованы для разработки создания структур и топологий компьютерных сетей, сетевых протоколов и служб передачи данных в компьютерных сетях.

Созданный в рамках диссертационной работы тест позволяет выполнять контроль и диагностику функционирования вычислительных машин путем измерения скорости работы сложного многопланового приложения, а именно программы, реализующей метод частиц в ячейках, обеспечивающего неравномерной недетерминированной нагрузкой все подсистемы вычислительной машины.

{\methods} Построение комплексного теста выполняется на основе программы для моделирования методом частиц в ячейках. Данный метод хорошо подходит для тестирования ВС вследствие того, что он сочетает в себе несколько разных этапов, каждый из которых предъявляет высокие требования к какой-то определенной подсистеме тестируемой ВС. Это дает возможность именно комплексного тестирования ВС. Кроме того, данный метод является исключительно многовариантным, что дает дополнительные возможности  для оценки производительнсти тестируемой ВС.

Параллельная реализация метода частиц в ячейках может быть выполнена с использованием трех основных вариантов декомпозиции расчетной области (эйлерова декомпозиция, лагранжева декомпозиция и смешанная эйлерово-лагранжева декомпозиция), а также с использованием или без использования мелкозернистого распараллеливания т.е. расчета движения каждой отдельной частицы в отдельной нити CUDA (англ. CUDA threads, потоки с ограниченным объемом оперативной памяти и сокращенным набором доступных операций, выполняемые на GPU) или потока OpenMP. 

Программа, на основе которой создан тест, была раззработана для решения определенного круга задач физики плазмы (задачи, в которых существенно отклонение функции распределения от равновесной, решаемые в кинетическом приближении, на основе уравнения Власова, например, моделирование вспышек в солнечной короне, моделирование разлета плазменного облака, моделирование неустойчивостей в высокотемпературной плазме, моделирование химических реакций в плазме газового разряда), и была успешно применена на нескольких задачах (моделирование двухпотоковой неустойчивости в высокотемпературной плазме, моделирование ВЧ-разряда в силан-водородной плазме). Создание теста производительности ВС на основе данной программы выполнено путем добавления точных измерений всех этапов работы вычислительного алгоритма и подсчетом количества операций с плавающей точкой в секунду (FLOPS), скорости работы оперативной памяти (пропускной способности и латентности), кэша, производительности коммуникационной сети и скорости выполнения различных операций по обмену данными между параллельными процессами.

Подсчет количества операций с плавающей точкой в секунду выполняется в том числе и  для реализации вычислительной части алгоритма на мультиархитектурных ВС, оснащенных многоядерными процессорами, графическими ускорителями, и ускорителей Intel Xeon Phi с использованием нескольких технологий распараллеливания, таких как OpenMP, CUDA, OpenACC что обеспечивает возможность комплексной оценки производительности многоядерного  процессора или вычислительного узла в рамках ВС.

Оценка быстродействия коммуникационной подсистемы ВС производится путем анализа продолжительсти парных и коллективных операций обмена данными, используемых при различных вариантах распараллеливания метода частиц в ячейках (т.е. эйлеровом, эйлерово-лагранжевом и лагранжевом вариантах), а также путем анализа скорости прохождения сообщений между различнымии узлами многопроцессорной ВС.    

{\defpositions}
В диссертационной работе создана оригинальная методика комплексного тестирования производительности ВС. Таким образом в работе присутствуют оригинальные результаты, отноящие к пп.1,2,4 паспорта специальности 05.13.15 по техническим наукам:
\begin{itemize}
	\item Пункт 1. Разработка научных основ создания вычислительных машин, комплексов и компьютерных сетей, исследования общих свойств и принципов функционирования вычислительных машин, комплексов и компьютерных сетей.
	\begin{itemize}
		
		\item Методика комплексной оценки производительности ВС, основанная на программе для моделирования методом частиц в ячейках
	\end{itemize}
	
	\item Пункт 2. Теоретический анализ и экспериментальное исследование функционирования вычислительных машин, комплексов и компьютерных сетей с целью улучшения их технико-экономических и эксплуатационных характеристик.
	\begin{itemize}
		
		\item Методика определения для конкретной ВС абсолютной оценки, основанной на степени пригодности данной ВС для решения задач математического моделирования
	\end{itemize}
	
	\item Пункт 4.Разработка научных методов и алгоритмов организации параллельной и распределенной обработки информации, многопроцессорных, многомашинных и специальных вычислительных систем.
	\begin{itemize}	
		\item Методика комплексного анализа производительности узлов мультиархитектурной ВС, оснащенной многоядерными процессорами и ускорителями вычислений
	\end{itemize}
\end{itemize}

Реализованная в диссертационной работе тестовая программа получила условное наименование 
PIC-MANAS (Particle-In-Cell Multi-Archtitecture Numerical Analysis & Simulation).


{\reliability}  полученных результатов обеспечивается сравнением с результатами, полученными по другим тестам, с заявленными показателями пиковой производиттельности системы.


{\probation}

Результаты диссертационной работы известны научной общественности. Всего по теме диссертации автором лично и в соавторстве опубликовано более 50 работ, в том числе 44 статей, из которых 30 - в ведущих рецензируемых научных журналах из перечня ВАК. Основные результаты диссертационной работы докладывались и обсуждались на Международных научных конференциях в России и за рубежом: на международной научных конференциях серии Parallel Computing Technologies (Нижний Новгород, 2003, Красноярск, 2005, Новосибирск, 2009), международной конференции International Conference on Computational Science (Амстердам, 2009),  международной конференции Open Magnetic Systems for Plasma Confinement (Новосибирск, 2010), международная конференция <<Параллельные вычисления и задачи управления>> (Москва, 2010), международной суперкомпьютерной конференции  «Научный сервис в сети Интернет» (Новороссийск, 2009, 2011, 2014), международной научной конференции Russian Supercomputing Days (Москва, 2015, 2016), международной конференции «Супервычисления и математическое моделирование» (Саров, 2016) , обсуждались на семинарах в Институте вычислительной математики и математической геофизики СО РАН, Институте Ядерной Физики СО РАН, Институте вычислительных технологий СО РАН, Институте Теоретической и Прикладной Механики СО РАН, Институте Прикладной Математики РАН, Научно-Исследовательском Вычислительном Центре МГУ.



{\contribution} .Выносимые на защиту результаты получены соиска-
телем лично. В совместных работах постановки задач и разработка методов их решения осуществлялись при непосредственном участии соискателя.


%\publications\ Основные результаты по теме диссертации изложены в ХХ печатных изданиях~\cite{Sokolov,Gaidaenko,Lermontov,Management},
%Х из которых изданы в журналах, рекомендованных ВАК~\cite{Sokolov,Gaidaenko}, 
%ХХ --- в тезисах докладов~\cite{Lermontov,Management}.

\ifnumequal{\value{bibliosel}}{0}{% Встроенная реализация с загрузкой файла через движок bibtex8
    \publications\ Основные результаты по теме диссертации изложены в XX печатных изданиях, 
    X из которых изданы в журналах, рекомендованных ВАК, 
    X "--- в тезисах докладов.%
}{% Реализация пакетом biblatex через движок biber
%Сделана отдельная секция, чтобы не отображались в списке цитированных материалов
    \begin{refsection}[vak,papers,conf]% Подсчет и нумерация авторских работ. Засчитываются только те, которые были прописаны внутри \nocite{}.
        %Чтобы сменить порядок разделов в сгрупированном списке литературы необходимо перетасовать следующие три строчки, а также команды в разделе \newcommand*{\insertbiblioauthorgrouped} в файле biblio/biblatex.tex
        \printbibliography[heading=countauthorvak, env=countauthorvak, keyword=biblioauthorvak, section=1]%
        \printbibliography[heading=countauthorconf, env=countauthorconf, keyword=biblioauthorconf, section=1]%
        \printbibliography[heading=countauthornotvak, env=countauthornotvak, keyword=biblioauthornotvak, section=1]%
        \printbibliography[heading=countauthor, env=countauthor, keyword=biblioauthor, section=1]%
        \nocite{%Порядок перечисления в этом блоке определяет порядок вывода в списке публикаций автора
                vakbib1,vakbib2,vak3multi,VychMethProgExa,AutoParSilan,multigridAuto,VychMetPlasma,Adaptive,VestnikNSU3D,MatMod,%
                confbib1,confbib2,%
                bib1,bib2,SuperFrI%
        }%
        \publications\ Основные результаты по теме диссертации изложены в~\arabic{citeauthor}~печатных изданиях, 
        \arabic{citeauthorvak} из которых изданы в журналах, рекомендованных ВАК, 
        \arabic{citeauthorconf} "--- в~тезисах докладов.
    \end{refsection}
    \begin{refsection}[vak,papers,conf]%Блок, позволяющий отобрать из всех работ автора наиболее значимые, и только их вывести в автореферате, но считать в блоке выше общее число работ
        \printbibliography[heading=countauthorvak, env=countauthorvak, keyword=biblioauthorvak, section=2]%
        \printbibliography[heading=countauthornotvak, env=countauthornotvak, keyword=biblioauthornotvak, section=2]%
        \printbibliography[heading=countauthorconf, env=countauthorconf, keyword=biblioauthorconf, section=2]%
        \printbibliography[heading=countauthor, env=countauthor, keyword=biblioauthor, section=2]%
        \nocite{vakbib2}%vak
        \nocite{bib1}%notvak
        \nocite{confbib1}%conf
    \end{refsection}
}
%При использовании пакета \verb!biblatex! для автоматического подсчёта
%количества публикаций автора по теме диссертации, необходимо
%их~здесь перечислить с использованием команды \verb!\nocite!.
