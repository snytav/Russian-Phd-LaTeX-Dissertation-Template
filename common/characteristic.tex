 \textbf{Актуальность темы исследования и степень ее
	разработанности.} Круг задач, решаемых на высокопроизводительных вычислительных системах, очень обширен. Он включает в себя множество исследовательских, оборонных и промышленных задач, в частности моделирование астрофизических процессов и физических процессов в плазменных установках, моделирование поведения вещества при сверхвысоких температурах и давлениях, разработка новых материалов, расчеты аэродинамики перспективных самолетов и автомобилей, предсказание погоды и задачи биоинформатики.

Все эти очень различные задачи объединяет одно: они предъявляют очень высокие требования к оборудованию и системному программному обеспечению вычислительной системы (ВС). При этом одни задачи  отличаются повышенными требованиями прежде всего к производительности процессорных ядер ВС, другие к времени доступа к оперативной памяти, пропускной способности и латентности коммуникационной сети, третьи к производительности операций работы с файловой системой. Таким образом, возникает вопрос об оценке производительности ВС - отдельной ее подсистемы - или в комплексе и об определении степени пригодности данной ВС для решения того или иного типа задач. 

Это означает необходимость создания специализированных программ-тестов для определения быстродействия конкретной ВС. В настоящее время существует большое количество подобных программ: Linpack, HPCG, NAS Parallel benchmarks, SPEC Benchmarks, ECP Exascale Proxy Applications, Mantevo miniapps benchmarks. Кроме того, существуют оценки параллелльной масшабируемости и эффективности выcокопроизводительных ВС, например, в книге \cite{StepanenkoScaling}.
Все это многообразие показывает, что задача создания теста производительности ВС остается актуальной.


Желательно, чтобы тесты создавались на базе программ, используемых для решения реальных задач для того, чтобы результатом работы теста были бы не только числовые показатели, но и конкретное подтверждение способности тестируемой ВС решать сложные задачи, актуальные с научной или производственной точки зрения. Так, тест High Performance Lapack создан на основе методов решения системы линейных уравнений с помощью LU-факторизации, тест HPCG - на основе метода сопряженных градиентов, NAS parallel benchmark ориентирован на задачи гидро и газодинамики.



Кроме тестирования скорости выполнения арифметических операций очень важное значение имеет производительность системы ввода-вывода. Это проблема, имеющая самостоятельное научное значение, о чем свидетельствует, в частности, доклад  <<Do you know what your I/O is doing>> (<<Знаете ли вы, что делает ваша система ввода-вывода>>) \cite{IOdoing}, в котором была рассмотрена работа системы ввода-вывода на суперЭВМ Blue Waters при решении больших задач, и было показано что во многих случаях именно ввод-вывод является основным фактором, замедляющим решение задач и работу суперЭВМ в целом. В приложении к конкретным задачам математического моделирования время собственно решения задачи на ВВС ( высокопроизводительной вычислительной системе) иногда оказывается меньше, чем время записи результатов на жесткие диски.
Таким образом анализ производительности системы ввода-вывода должен быть включен в тест производительности.
Одним из немногих тестовых пакетов, решающих эту задачу, является Intel Cluster Checker - набор программ, производящий всестороннее тестирование кластерной системы, и каждой отдельной подсистемы, и вопросы совместного функционирования подсистем. 

Для сокращения временных и ресурсных затрат на проведение тестирования необходимо создавать тесты на базе программ, реализующих такие математические методы, которые предъявляют высокие требования сразу к нескольким, в идеале - ко всем подсистемам тестируемой ВС. 

Одним из таких методов является метод частиц в ячейках. Его достоинством является, с одной стороны, использование в качестве инструментов нескольких существенно различных вычислительных методов, что позволяет исходя из тестирования на методе частиц в ячейках достоверно прогнозировать производительность данной ВС на многих других задачах. С другой стороны, достоинством метода частиц как теста является трудность его эффективной реализации на высокопроизводительных ВС, в частности нерегулярный доступ к памяти, недетерминированный объем и частота межпроцессорных пересылок и очень большой объем выдач - проблемы с которыми не всегда и не в полном объеме удается справляться на уровне прикладного ПО (программного обеспечения). Фактическая эффективность работы ВС с таким сложным приложением является хорошей характеристикой качества оборудования и системного ПО.

Таким образом,\textbf{ актуальность работы} заключается в необходимости создания именно комплексного теста производительности вычислительных систем. Такой должен охватывать все аспекты, влияющие на быстродействие: 
\begin{itemize}
	\item процессорные ядра, 
	\item графические ускорители, 
	\item контроллеры памяти, 
	\item межпроцессорные коммуникационные интерфейсы, 
	\item контроллеры коммуникационной сети, 
	\item сетевые коммутаторы, 
	\item средства доступа к энергонезависимой  подсистеме хранения данных (дисковой подсистеме).
\end{itemize}
Необходимо, чтобы тест допускал возможность определения  реального времени вычислений с учетом того, что данные находятся не в регистрах процессора и должны быть туда загружены. Таким образом, актуальной задачей является определяется реального быстродействия системы на широком спектре задач математического моделирования (sustained performance). 


{\aim} данной работы является разработка методики и создание реализующей ее программы для комплексной оценки производительности ВС с учетом функционирования всех подсистем  и выявления скорости решения реальных задач. Таким образом, предполагается представить альтернативу традиционной методике оценки производительности ВВС, основанной только лишь на количестве операций в секунду.  

Для~достижения поставленной цели необходимо было решить следующие {\tasks}:
\begin{enumerate}
	\item Создать программный комплекс, основанный на одном из наиболее часто применяемых в высокопроизводительных вычислениях численных методов, позволяющем определять производительность всех подсистем конкретной ВС и, в частности, выделить конкретную подсистему, наиболее заметно снижающую скорость счета реальных приложений. 
	
	\item Реализовать метод исследования коммуникационной структуры параллельных распределенных ВС для выработки рекомендаций по более оптимальному распределению процессов в приложении на узлах распределенной ВС.
	
	\item Разработать и обосновать методику расчета абсолютной, не основанной на производительности процессоров, оценки пригодности ВС для решения реальных задач. 
	
	\item Разработать метод комплексного анализа производительности узлов мультиархитектурной ВС, позволяющий делать прогнозы эффективности данной мультиархитектурной ВС для решения конкретных задач, более достоверные по сравнению с синтетическими тестами.
\end{enumerate}

{\novelty}
Постановка задачи о проведении тестирования высокопроизводительной ВС на основе метода частиц в ячейках является новой. Впервые создана возможность определения всех факторов, влияющих на производительность ВС на основе одного комплексного теста. 

Существенная научная новизна определяется тем, что метод частиц в ячейках является ресурсоемким методом, предъявляющим высокие требования к быстродействию не только процессора, но и оперативной памяти, и системы хранения данных. Эти свойства метода частиц приводят к необходимости разработки и применения большого количества сложных методов программной оптимизации, позволяющих достигать приемлемой производительности на реально доступных системах. В то же время высокая требовательность метода частиц к быстродействию ВС позволяет эффективно оценить быстродействие тестируемой ВС, если какая-либо из подсистем не оптимизирована и функционирует с низкой производительностью, то итоговая скорость счета по методу частиц будет очень мала.
Далее известное разбиение метода частиц в ячейках на этапы различной сложности позволяет определить какая из подсистем тестируемой ВС вносит наибольший вклад в снижение производительности. 

Таким образом, впервые появляется возможность точной диагностики ВС по результатам работы реализации вычислительного метода, используемой для получения актуальных физических результатов.   

Преимущества по сравнению с другими вариантами тестирования заключаются в:
\begin{itemize}
	\item выявлении производительности ВС на реальном приложении, а не на специально сконструированном тесте - это важно с точки зрения динамики нагрузки на ВС; 
	
	\item оценке интегральной производительности ВС, складывающейся из производительности процессора, ускорителей вычислений, кэш-памяти разных уровней, оперативной памяти и системы хранения данных;
	\item возможности выявления в ходе одного теста конкретной подсистемы ВС, наиболее заметно снижающей скорость счета реальных приложений. 
	
\end{itemize}
Создана оригинальная методика, основанная на анализе статистики сообщений, позволяющая по результатам теста на части узлов высокопроизводительной ВС кластерного типа проводить экстраполяцию и оценивать эффективность распараллеливания и масштабируемость для ВС в целом.

Впервые проводится анализ производительности узлов мультиархитектурной ВС, оснащенных графическими ускорителями, ускорителями Intel Xeon Phi, различными типами многоядерных процессоров с точки зрения выявления их производительности, реально достижимой при решении конкретных научно-технических задач.

На основе разделения метода частиц в ячейках на этапы различной сложности, предъявляющих высокие требования к определенным подсистемам тестируемой ВС создана новая оригинальная методика, позволяющая предсказывать производительность при решении различных научных и народнохозяйственных задач, в частности задач гидро- и газодинамики, методов Монте-Карло, алгоритмов динамической балансировки загрузки, алгоритмов, основанных на интегральных преобразованиях, задач анализа генетической информации, параллельную эффективность и масштабируемость приложений, использующих парные и коллективные коммуникационные операции. Также разработанный тест может использоваться для получения рекомендации по настройке системы параллельных коммуникаций, например, задания оптимальных значений таймаутов MPI.


{\influence} Накопленный опыт эксплуатации программы, реализующей метод частиц в ячейках на различных типах ВС позволяет разработать конструкцию специализированной вычислительной системы для расчетов по данному методу, а также выработать принципы для адаптации наиболее распространенных типов и модификаций ВС для эффективной работы с методом частиц в ячейках и для математического моделирования в целом.

Созданный в рамках диссертационной работы комплексный тест позволяет проводить экспериментальное исследование функционирования вычислительных машин, комплексов и компьютерных сетей в широком диапазоне от больших высокопроизводительных ВС и метакомпьютеров, образованных соединением нескольких кластеров до ноутбуков. Это исследование дополняется проводимым в той же тестовой программе теоретическим анализом масштабируемости и параллельной эффективности. В ходе тестирования измеряются характеристики ВС: вычислительная производительность, скорость работы коммуникационной сети и системы ввода-вывода. Измеренные характеристики позволяют улучшить работы сетевой подсистемы ВС путем перепрограммирования сетевых адаптеров и изменения настроек системного ПО, а также дать рекомендации по улучшению технико-экономических и эксплуатационных характеристик ВС такого типа в дальнейшем.

%	Важнейшей частью предложенного теста, недоступной в большинстве других тестов для высокопроизводительных ВС, является диагностика системы ввода-вывода. Вывод информации (физические диагностики при моделировании плазмы) характеризуется в данном случае большим объемом (трехмерные массивы полей и токов во всей расчетной области), неравномерностью распределения по вычислительным узлам (массивы модельных частиц), значительной временной динамикой (6-мерный массив функции распределения частиц). Все описанное в комплексе создает очень серьезную нагрузку для сети и распределенной файловой системы ВС и дает возможность провести их доработку и оптимизацию.  

Существует также возможность использования результатов тестирования для разработки методов и алгоритмов организации параллельной и распределенной обработки информации, многомашинных и специальных вычислительных систем. Реализация
метода частиц в ячейках в представленной программе включает в себя также и возможность счета на графических ускорителях, и ускорителях Intel Xeon Phi. Таким образом проведенные тесты покажут эффективность вычислений с использованием специализированных вычислителей в рамках анализируемой ВС, а также эффективность работы интерфейса, соединяющего графические и другие ускорители с основной частью ВС.

В силу того, что скорость расчета по методу частиц в целом и эффективность распараллеливания в частности принципиально зависит от топологии внутренней сети высокопроизводительной ВС, а также от параметров коммуникационного оборудования и системного ПО, то результаты тестирования могут быть использованы для разработки структур и топологий компьютерных сетей, сетевых протоколов и служб передачи данных в компьютерных сетях.

Созданный в рамках диссертационной работы тест позволяет выполнять контроль и диагностику функционирования вычислительных машин путем измерения скорости работы сложного многопланового приложения, а именно программы, реализующей метод частиц в ячейках, обеспечивающий неравномерной недетерминированной нагрузкой все подсистемы вычислительной машины.

Основные этапы исследования выполнены при поддержке грантов
Российского фонда фундаментальных исследований №№ 14-07-00241 (руководитель), 18-07-00364 (руководитель), 16-07-00434, 16-07-00916, а также при финансовой поддержке Министерства образования и науки РФ (уникальный идентификатор работ (проекта) RFMEFI57417X0145, соглашение № 14.574.21.0145 от 26.09.2017 г.) в рамках федеральной
целевой программы <<Исследования и разработки по приоритетным
направлениям развития научно-технологического комплекса России на
2014—2020 годы>>.

{\methods} Построение комплексного теста выполняется на основе программы для моделирования методом частиц в ячейках. Данный метод хорошо подходит для тестирования ВС вследствие того, что он сочетает в себе несколько разных этапов, каждый из которых предъявляет высокие требования к какой-то определенной подсистеме тестируемой ВС. Это дает возможность именно комплексного тестирования ВС. Кроме того, данный метод является исключительно многовариантным, что дает дополнительные возможности  для оценки производительности тестируемой ВС.

Параллельная реализация метода частиц в ячейках может быть выполнена с использованием трех основных вариантов декомпозиции расчетной области (эйлерова декомпозиция, лагранжева декомпозиция и смешанная эйлерово-лагранжева декомпозиция), а также с использованием или без использования мелкозернистого распараллеливания т.е. расчета движения каждой отдельной частицы в отдельной нити CUDA (англ. CUDA thread, поток с ограниченным объемом оперативной памяти и сокращенным набором доступных операций, выполняемые на GPU) или потока OpenMP. 

Программа, на основе которой создан тест, была разработана для решения определенного круга задач физики плазмы (задачи, в которых существенно отклонение функции распределения от равновесной, решаемые в кинетическом приближении, на основе уравнения Власова, например, моделирование вспышек в солнечной короне, моделирование разлета плазменного облака, моделирование неустойчивостей в высокотемпературной плазме, моделирование химических реакций в плазме газового разряда), и была успешно применена на нескольких задачах (моделирование двухпотоковой неустойчивости в высокотемпературной плазме, моделирование ВЧ-разряда в силан-водородной плазме). Создание теста производительности ВС на основе данной программы выполнено путем добавления точных измерений всех этапов работы вычислительного алгоритма и подсчетом количества операций с плавающей точкой в секунду (FLOPS), скорости работы оперативной памяти (пропускной способности и латентности), кэша, производительности коммуникационной сети и скорости выполнения различных операций по обмену данными между параллельными процессами, а также вывода результатов расчета (сохранения на диск).

Подсчет количества операций с плавающей точкой в секунду выполняется в том числе и  для реализации вычислительной части алгоритма на мультиархитектурных ВС, оснащенных многоядерными процессорами, графическими ускорителями, и ускорителями Intel Xeon Phi с использованием нескольких технологий распараллеливания, таких как OpenMP, CUDA, OpenACC, что обеспечивает возможность комплексной оценки производительности многоядерного  процессора или вычислительного узла в рамках ВС.

Оценка быстродействия коммуникационной подсистемы ВС производится путем анализа продолжительности парных и коллективных операций обмена данными, используемых при различных вариантах распараллеливания метода частиц в ячейках (т.е. эйлеровом, эйлерово-лагранжевом и лагранжевом вариантах), а также путем анализа скорости прохождения сообщений между различными узлами многопроцессорной ВС.    

В диссертационной работе создана оригинальная методика комплексного тестирования производительности ВС.

{\defpositions}
\begin{enumerate}
	\item Создан программный комплекс, основанный на моделировании динамики плазмы методом частиц в ячейках на высокопроизводительных ВС для всестороннего исследования производительности ВС, позволяющий в рамках одного запуска программы определить конкретную подсистему, наиболее заметно снижающую производительность. \cite{LotovPoP,MatMod,VychMetPlasma,VestnikNNSU,adaptCPC}. 
	
	\item Реализован и протестирован метод исследования коммуникационной структуры высокопроизводительных ВС, позволяющий давать рекомендации по более оптимальному распределению процессов в приложении на узлах высокопроизводительной ВС, а также вычислять экcтраполяцию реально полученной производительности на аналогичные системы с большим количеством узлов и процессоров \cite{vakbib2,VestnikNNSU}.
	
	\item Разработана и обоснована методика расчета абсолютной оценки пригодности данной ВС для решения реальных задач, основанной на сбалансированности производительности различных подсистем конкретной ВС, в частности оперативной памяти, коммуникационной сети, дисковой подсистемы, процессоров и ускорителей вычислений и позволяющей сравнивать ВС безотносительно используемых программ и решаемых задач \cite{multigridAuto,VestnikNNSU,SuperFrI,astroCoDesign,integrApproach,vak3multi}. 
	
	\item Предложен и протестирован метод комплексного анализа производительности узлов мультиархитектурной ВС, оснащенной многоядерными процессорами и графическими ускорителями или ускорителями Intel Xeon Phi, основанный на программе для моделирования динамики плазмы методом частиц в ячейках и позволяющий делать прогнозы эффективности данной мультиархитектурной ВС для решения конкретных задач, более достоверные по сравнению с синтетическими тестами  \cite{MohographyTarkov,VestnikNSU3D,MatMod,VychMethProgExa}.
\end{enumerate}

Реализованная в диссертационной работе тестовая программа получила условное наименование 
PIC-MANAS (Particle-In-Cell Multi-Archtitecture Numerical Analysis \& Simulation).


{\reliability}  полученных результатов обеспечивается сравнением с результатами, полученными по другим тестам, с заявленными показателями пиковой производительности системы.


{\probation}

Результаты диссертационной работы известны научной общественности. 
%Всего по теме диссертации автором лично и в соавторстве опубликовано 16 работ, в том числе 15 статей, из которых 10 - в ведущих рецензируемых научных журналах из перечня ВАК, 5 – в
%международных изданиях, индексируемых Scopus и Web of Science; раздел в монографии. 
Основные результаты диссертационной работы докладывались и обсуждались на Международных научных конференциях в России и за рубежом: на международной научных конференциях серии Parallel Computing Technologies (Нижний Новгород, 2003, Красноярск, 2005, Новосибирск, 2009), международной конференции International Conference on Computational Science (Амстердам, 2009),  международной конференции Open Magnetic Systems for Plasma Confinement (Новосибирск, 2010), международной конференция <<Параллельные вычисления и задачи управления>> (Москва, 2010), международной суперкомпьютерной конференции  «Научный сервис в сети Интернет» (Новороссийск, 2009, 2011, 2014), международной научной конференции Russian Supercomputing Days (Москва, 2015, 2016), международной конференции «Супервычисления и математическое моделирование» (Саров, 2016), обсуждались на семинарах в Институте Вычислительной Математики и Математической Геофизики СО РАН, Институте Ядерной Физики СО РАН, Институте Вычислительных Технологий СО РАН, Институте Теоретической и Прикладной Механики СО РАН, Институте Прикладной Математики РАН, Научно-Исследовательском Вычислительном Центре МГУ.



{\contribution} Выносимые на защиту результаты получены соискателем лично. В совместных работах постановки задач и разработка методов их решения осуществлялись при непосредственном участии соискателя.


\publications\ Основные результаты по теме диссертации изложены в 16 печатных изданиях, 
10 из которых изданы в журналах, рекомендованных ВАК; 5 – в
международных изданиях, индексируемых Scopus и Web of Science; раздел в монографии.

Основные результаты диссертации опубликованы в работах \cite{MohographyTarkov,NNSU,multigridAuto,AutoParSilan,VychMetPlasma,Adaptive,NSU3D,vak3multi,MatMod,vakbib2,VychMethProgExa,SuperFrI,adaptCPC,LotovPoP,integrApproach,astroCoDesign}.


%При использовании пакета \verb!biblatex! для автоматического подсчёта
%количества публикаций автора по теме диссертации, необходимо
%их~здесь перечислить с использованием команды \verb!\nocite!.
